function monitorAndDeleteTempFiles() {
  const folderId = 'YOUR_FOLDER_ID'; // Replace with your folder ID
  const root = DriveApp.getFolderById(folderId);
  const MAX_SIZE = 4096;

  const store = PropertiesService.getScriptProperties();
  const seen = JSON.parse(store.getProperty('seenFiles') || '{}');
  let newSeen = {};
  let deletedCount = 0;

  function scanFolder(folder) {
    const files = folder.getFiles();
    while (files.hasNext()) {
      const file = files.next();
      const id = file.getId();
      const name = file.getName();
      const size = file.getSize();
      newSeen[id] = true;

      // Skip SVG files
      if (name.toLowerCase().endsWith(".svg")) {
        continue;
      }

      // Delete if (â‰¤ 4KB OR starts with "._") AND NOT an SVG
      if (!seen[id] && (size <= MAX_SIZE || name.startsWith("._"))) {
        file.setTrashed(true);
        Logger.log(`ðŸ—‘ Deleted: ${name} (${id}) | Size: ${size} bytes`);
        deletedCount++;
      }
    }

    const subfolders = folder.getFolders();
    while (subfolders.hasNext()) {
      scanFolder(subfolders.next());
    }
  }

  scanFolder(root);
  store.setProperty('seenFiles', JSON.stringify(newSeen));
  Logger.log(`âœ… Done. Deleted ${deletedCount} file(s).`);
}
